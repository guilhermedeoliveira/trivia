A trivia webapp

https://trivia-delta.vercel.app/

## Table of contents

- [Getting started](#getting-started)
- [Project structure](#project-structure)
- [Basic commands](#basic-commands)
- [Architectural Decision Records](#architectural-decision-records)
- [Deployment](#deployment)
- [Todo](#to-do)

## Getting started

Install dependencies

```
yarn
```

Set environment variables

```
cp .env.example .env
```

Run application locally

```
yarn dev
```

## Project structure

It is a fractal architecture. All top-level folders may repeat in nested folders.

- `modules`: where all domains are defined in isolation.
- `components`: where all UI components are placed. These components should have no business logic.
- `providers`: where providers are placed.
- `lib` where helpers, normalizers and third-party library functions should be placed. All function should be tested.
- `hooks`: groups all custom hooks and side-effects.
- `pages`: where all pages should be placed. By doing that, Next.js will automatically [create routes](https://nextjs.org/docs/basic-features/pages)
- `shared`: holds files related to global scope.
- `styleguide`: groups styleguide related files.
- `types`: where all reusable types are placed. If this project were to consume a GraphQL API, it would likely be using [codegen](https://www.graphql-code-generator.com/) to generate typing based on GraphQL schema.

This is a simple application. In order to show how I prefer structuring projects, I've separated `quiz` and `results` in two isolated modules.

## Basic commands

### Local development

- `yarn` installs all dependencies
- `yarn dev` starts application in development mode with hot reload
- `yarn build` creates an optimized production build. The output displays information about each route
- `yarn start` starts the application in production mode. The application should be compiled with `yarn build` first

### Linting

- `yarn lint` lints the application.
- `yarn lint:fix` lints the application and try to fix linting errors.

### Code formatting

- `yarn format` runs prettier to format the code and save changes.

### Typing

- `yarn type-check` checks application's typing

### Unit testing

- `yarn test:unit` runs unit tests
- `yarn test:unit:w` runs unit tests in watch mode
- `yarn test:unit:cover` runs unit tests and gerenates coverage reports
- `yarn test:unit:cover:w` runs unit tests in watch mode and gerenates coverage reports

### e2e testing

- `yarn test:e2e` runs e2e testing with cypress in headless mode
- `yarn test:e2e:open` opens the cypress UI and runs e2e tests

### Running all tests

- `yarn qa` runs linting, type checking and unit tests
- `yarn qa:cover` runs linting, type checking, unit tests with coverage and e2e tests.

## Architectural Decision Records

All important decisions are recorded in adr files located at `adr` folder.

## Deployment

The Deployment process begins by pushing a branch to the remote repository. After successfully pushing the branch, some steps will be executed:

- The deploy to `Vercel` will be executed by a github integration
- The commands `npm run qa && npm run build` will run in order to deploy the application, and the deploy happens only if those commands executes successfully
- The github action `ci.yml` will be triggered and run an e2e test against the newly created [preview](https://vercel.com/docs/platform/deployments#preview) version of the application generated by vercel

## To do

- [ ] Setup storybook, create and publish a design system as [this project](https://github.com/guilhermedeoliveira/storybook).
